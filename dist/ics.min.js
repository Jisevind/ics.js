//! ics.js
//! @version 1.0.0
//! @author Johan MÃ¥rtensson <johanmartensson@gmail.com>
//! @source
//! 
//! Created at     : 2018-02-16
//! Last modified  : 2018-02-17
//! 
//! @license MIT
//! See https://github.com/lazaruz/ICS/blob/master/LICENSE
//! 
var ics=function(n){var t=-1!==navigator.appVersion.indexOf("Win")?"\r\n":"\n",e=[],r=["BEGIN:VCALENDAR","PRODID:"+n,"VERSION:2.0"].join(t),a=t+"END:VCALENDAR";function o(){return r+t+e.join(t)+a}return{calendar:function(){return o()},addEvent:function(n){n=$.extend({title:"",description:"",location:"",begin:"",end:"",status:"CONFIRMED",class:"PUBLIC",transparency:"OPAQUE"},n);var r=moment(n.begin).utc().format("YYYYMMDDTHHmmss")+"Z",a=moment(n.end).utc().format("YYYYMMDDTHHmmss")+"Z",o=["BEGIN:VEVENT","DTSTAMP:"+(moment(new Date).utc().format("YYYYMMDDTHHmmss")+"Z"),"STATUS:"+n.status,"UID:"+([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,n=>(n^crypto.getRandomValues(new Uint8Array(1))[0]&15>>n/4).toString(16)),"DTSTART:"+r,"DTEND:"+a,"SUMMARY:"+n.title,"DESCRIPTION:"+n.description,"LOCATION:"+n.location,"CLASS:"+n.class,"TRANSP:"+n.transparency,"END:VEVENT"];return o=o.join(t),e.push(o),o},download:function(n){if(e.length<1)return!1;saveAs(new Blob([o()],{type:"text/x-vCalendar;charset=utf-8"}),n+".ics")}}};